读取大日志的方法



https://blog.csdn.net/stupid56862/article/details/93330203

1.tail -f file  命令可以直接查看滚动的日志文件（类似docker logs -f）

Ctrl + c 终止 tail 命令
Ctrl + s 暂停 tail 命令
Ctrl + q 继续 tail 命令



2.less file 命令也可以查看

 按F可以实现类似于 tail -f的实时滚动效果

按G可以到最后一行

以上两个命令在行数比较多的时候会因为计算行数而阻塞较长时间

可以使用less -n file来不计算行行号，加速上面两个命令的速度

也可以用less -N file 来显示行数



3.使用grep命令可以快速匹配

grep 'key word' log.txt -A 20 // 列出包括匹配行之后 20 的行。
grep 'key word' log.txt -B 20 // 列出包括匹配行之前 20 的行。
grep 'key word' log.txt -C 20 // 列出包括匹配行前后各 20 行。



也可以将grep和less结合起来使用：

grep  `world` copy.log | less



4.将tail和less结合起来使用：

tail -n +10000 | less // 从第 10000 开始,使用 less 查看。
tail  -n 10000 | less // 查看倒数第 1000 行到文件最后的数据。



5.head命令可以显示前x行，配合tail命令可以显示指定行数范围内的内容

head -500000000 file | tail  -100

其中 head -500000000 : 显示文件的前 500000000 行。
tail -100 :显示最后 100行。
两者结合起来就是在前 500000000 行中显示后 100 行，即显示 499999900 到 500000000 这100 行的内容。



6.用sed命令也可以：

sed -n '500000000q;499999900,500000000p'  file

500000000q; : 表示当执行到第 500000000 行的时候停止执行。 如果不使用 500000000q; sed 默认会浏览整个文件。
499999900,500000000 : 表示499999900 到 500000000 行。其中 , 逗号表示范围。
整体结合起来就是打印 499999900 到 500000000 行，但是执行到第 500000000 行就不要再执行了。



7.或者使用awk命令：

awk 'NR>=49999991 && NR<=50000000{print} NR==50000001{exit}' file