# grep awk xargs命令



1.grep命令是以行为单位进行匹配，只要文本行中有满足匹配表达式的就把整行进行输出，如果要只输出匹配的文本则带上 -o参数



2.grep是基础正则表达式，egrep或者-e参数是扩展正则表达式，后者支持小括号()



3.awk的匹配模式可选，BEGIN和END也可选，故如果只写一条命令则是对所有行都生效



4.在awk命令中的特殊变量有：NR表示行号，NF表示字段数量（列数），$0表示第0列，$1表示第1列，以此类推，注意，awk是以空格作为列的分割，N个连续空格视为一个



5.删除本地保存的大小大于400MB的镜像

其命令为

`docker rmi ${docker images | egrep "([1-9][0-9] | [4-9])[0-9][0-9](\.[0-9])? MB"} | awk '{print $3}'}`



6.xargs命令可以用于参数化文本以及传递参数

（1）该命令单独使用可以让文本按照需求变为单行或多行输出

`docker images | egrep "([1-9][0-9] | [4-9])[0-9][0-9](\.[0-9])? MB"} | awk '{print $3}' | xargs`，输出为：

123456 333234 222346 323321 976578

也可以加上参数-n3变为一行3列：

123456 333234 222346

323321 976578



（2）也可以用于传递参数，比如5中提到的命令就可以变为：

`docker images | egrep "([1-9][0-9] | [4-9])[0-9][0-9](\.[0-9])? MB"} | awk '{print $3}' | xargs docker rmi`



主要用于不支持管道传递参数的命令